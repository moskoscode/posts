# Como programar o aleatório?

	Você já se perguntou como foi feito o código que faz com que, ao apertar o botão de shuffle do seu reprodutor musical, seja gerada uma ordem completamente inédita para suas músicas? Ou, como fizeram para selecionar randomicamente o seu personagem num jogo de luta?
	Bom… se sim, você é como eu, ficou curioso e veio procurar uma resposta – e encontrou!

Seja muito bem-vinda ou bem-vindo, ao meu cantinho desse canal, esse quadro é uma oportunidade de se explorar temas mais teóricos e variar um pouco do tema de tutoriais, mas não se preocupe, todos eles continuam no blog Moskos’ Codefield e tem muito mais por vir! Toda quinta, as 10h da manhã, um post novo, acessa lá moskoscode.com – tem de tudo! Vamos ao vídeo:

	Primeiramente, vou admitir que adoro explorar as questões mais filosóficas desse tipo de dilema, mas se você tá aqui pela explicação mais técnica, não se preocupe, vou começar me dedicando a esse assunto, que, afinal, serve como base para o resto da discussão.
	Então, vamos lá, como gerar dados aleatórios?
	Existem duas maneiras principais de se fazê-lo, uma mais simples e barata (usada para jogos, músicas, sorteadores) e outra mais complexa e efetiva (usada em ocasiões mais importantes como a geração de senhas fortes). 

	A primeira técnica, a mais simples, utiliza PRNGs (Pseudo-Random Number Generator) ou Geradores de Números Pseudo aleatórios, que se baseiam em funções matemáticas. O que faz com que os resultados das funções não sejam sempre os mesmos, para simular a aleatoriedade, são as seeds. Uma seed é basicamente uma receita, que a depender de variáveis pré-definidas, altera a operação, pois sem variação, os números gerados seriam sempre os mesmos. Mas como se “randomiza” aseed do gerador? Existem algumas formas, mas a mais básica é a utilização do tempo atual – contado normalmente em segundos após a meia noite do dia 1 de Janeiro de 1970 – o que traria sempre um número diferente, porém ela não é muito segura, já que sabendo o horário de execução do programa pode-se prever com exatidão os números que serão gerados. A forma mais segura mesmo seria usar a segunda técnica (que vou explicar agora) como fonte da seed do PRNG.

	Como funciona essa segunda técnica? Então, ela não trata de criar aleatoriedade, mas de capturá-la do universo! (Uuuuuuuh) – e como se faz isso? É simples, bom, na verdade é bem complexo, mas fácil de entender. Realiza-se o registro de dados extremamente específicos, desde os milisegundos entre seus cliques nas teclas enquanto digita, até a emissão de luz coberta por lâmpadas de lava… vou ser mais específico.
	O primeiro exemplo, do intervalo entre a digitação serve para uma captura local de entropia (falta de ordem no universo – aleatoriedade). Essa alternativa se baseia no fato de que isso é algo tão minucioso que mesmo querendo o usuário não consegue controlar precisamente. Dados como esse são utilizados, por exemplo, no PRNG nativo do Linux – que pode ser acessado por /dev/random ou /dev/urandom. O problema desse tipo de captura é a falta, se geram muito poucos dados por segundo, ou seja isso não serviria para uma grande operação de geração de dados aleatórios – como é o caso do nosso próximo exemplo a Cloudflare.
	A Cloudflare é uma empresa de criptografia, por isso eles precisam de um fluxo grande e constante de dados aleatórios. Até aí tudo normal, mas a parte interessante é a maneira que eles coletam esses dados. Como você pode ver nesse vídeo do Tom Scott (link na descrição), em um dos seus escritórios eles possuem uma série de lâmpadas de lava posicionadas em frente a uma parede, com uma câmera apontando para elas. Essa câmera envia cada frame filmado para um computador que transforma esses dados visuais em números, através de funcões critográficas de hash. Ou seja, como esses dados dependem de cada posição de cada bolha dentro de cada lampada, além de fatores externos como chiado na foto e iluminação natural, tudo isso passando por uma conversão que muda completamente seja por uma mudança minúscula em qualquer um desses fatores, eles podem ser considerados completamente aleatórios. Além dessa operação eles também tem algo chamado um pêndulo caótico nos seus escritórios em Londres (ele é composto de três partes que são imprevisíveis na sua interação e uma fonte radioativa em Singapura. Eles precisavam fazer dessa maneira específica? Não. Porém, tem algo mais aleatório que as decisões humanas tomadas por diversão?

	Eu fiquei encantado com o quão a fundo esse assunto foi explorado por programadores para chegar nesse ponto. Mas acabei me perguntando: Afinal isso é realmente aleatório? Algo que é capturado e gerado a partir de condições externas, pode ser considerado realmente aleatório?  A resposta vai depender dos seus pressupostos, se você considerar aquilo que é imprevisível para qualquer humano como aleatório, vai achar que essas soluções são certeiras e que é possível gerar dados randômicos a partir delas. Entretanto, hipoteticamente, um ser onisciente, num universo determinista, teria como saber o resultado da conversão da imagem de qualquer momento, passado ou futuro, pois nesse caso, sabendo qualquer ponto da informação, você sabe todos. Enfim, determinismo é uma discussão grande, que pode ficar para outro vídeo...

	Muito obrigado por assistir esse episódio! Ele faz parte de um novo quadro aqui do canal, focado em teoria. Interessados em programação podem acessar o blog em moskoscode.com, lá você pode encontrar esse vídeo e diversos tutoriais sobre python, c++ e muitas outras coisas! Valeu ;)
